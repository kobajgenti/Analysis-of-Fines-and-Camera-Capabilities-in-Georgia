traffic_violations = {
    # DUI and Vehicle Transfer
    "115-1-1": "Transferring vehicle to intoxicated person",
    "115-1-3": "Repeated transfer of vehicle to intoxicated person",
    
    # Driving Under Influence and License Violations
    "116-1": "Driving under influence (<0.7‰)",
    "116-2": "Driving under influence (>0.7‰) or test refusal",
    "116-3": "Repeated drunk driving",
    "116-4": "Driving without license",
    "116-4-1": "Operating vehicle with suspended license",
    "116-4-2": "Operating vehicle without license or with suspended license for other violations",
    "116-4-3": "Repeated violation of operating without license within 1 year",
    "116-5": "Repeated drunk driving without license",
    "116-6": "Repeated drunk driving with suspended license",
    "116-7": "Causing damage while driving under influence",
    "116-8": "Operating vehicle without license",
    "116-8-1": "Operating vehicle with suspended license for other violations",

    # Vehicle Safety and Equipment
    "118-0-1": "Not wearing seatbelt (driver/front passenger)",
    "118-0-2": "Using mobile phone while driving",
    "118-0-3": "Not wearing helmet on motorcycle/moped",
    "118-1": "Operating technically uninspected vehicle",
    "118-2-1": "Transferring technically uninspected vehicle - Individual",
    "118-2-2": "Transferring technically uninspected vehicle - Legal entity",
    "118-3-1": "Repeated violation by individual of technical inspection requirements within 30 days",
    "118-3-2": "Repeated violation by legal entity of technical inspection requirements within 30 days",
    "118-4-1": "Operating motorcycle under alcohol influence",
    "118-4-2": "Operating motorcycle under narcotic influence",
    "118-5-1": "Repeated violation by individual after administrative penalty",
    "118-5-2": "Repeated violation by legal entity after administrative penalty",

    # Vehicle Documentation and Modifications
    "119-1": "Driving without carrying license",
    "119-1-1": "Transporting construction materials or waste with faulty cargo equipment",
    "119-2": "Operating vehicle with malfunctioning equipment",
    "119-5": "Operating illegally modified vehicle",
    "119-6": "Operating vehicle without special category license",
    "119-7": "Operating vehicle with tinted windows",
    "119-7-1": "Window tint exceeding limits by 10%",
    "119-7-2": "Third violation of tinted windows regulation",
    "119-8": "Damage caused by violation of vehicle operation rules",

    # Emergency Vehicle and Special Signals
    "120": "Illegal installation/use of emergency lights/sirens",
    "120-1": "Illegal use of emergency vehicle indicators",
    "120-3-1": "Obstructing emergency vehicles",

    # License and Documentation Violations
    "121-0-1": "Using invalid/canceled license or providing false information",
    "121-1": "Driving without valid license",
    "121-1-1": "Using another person's license/providing false information",
    "121-2": "Transferring vehicle to unlicensed person",
    "121-3": "Causing damage while driving without license",
    "121-4": "Repeated damage while driving without license",

    # Registration and Plates
    "122-1": "Operating without license plates",
    "122-2": "Operating unregistered vehicle",
    "122-3": "Operating with concealed plates",
    "122-4": "Operating with fake/modified plates",

    # Accident and Police Related
    "123-1": "Leaving accident scene",
    "123-2": "Not stopping for police",
    "123-2-1": "Leaving accident scene without license",
    "123-3": "Failing to comply with police stop signal",
    "123-4": "Creating hazardous situation",
    "123-4-1": "Creating hazardous situation without license",
    "123-5-1": "Causing minor damage/injury through violation",

    # Traffic Rules and Violations
    "125": "Minor damage to vehicle, cargo, road, or person through violations",
    "125-0-1": "Causing minor damage through pedestrian right violations",
    "125-0-2": "Unauthorized use of bus lane",
    "125-0-3": "Bicycle lane violations",
    "125-0-4": "Parking without visible registration plates",
    "125-0-5": "Taxi parking violations",
    "125-0-8": "Various parking violations",
    "125-1": "Speeding (15-40 km/h over limit)",
    "125-1-1": "Speeding (over 40 km/h)",
    "125-1-2": "Bus lane violations",
    "125-1-3": "Bicycle lane violations",
    "125-1-5": "Unauthorized taxi parking",
    "125-1-6": "Abandoning vehicle on road",
    "125-1-7": "Unauthorized drifting",
    "125-2": "Passenger carrier speeding",

    # Parking and Standing
    "125-2-1": "Parking without payment in Tbilisi municipality",
    "125-2-2": "Electric vehicle parking without charging connection",
    "125-2-3": "Using parked vehicle for commercial activities in Tbilisi",
    "125-2-5": "Unauthorized parking in disabled parking space or blocking access ramp",
    "125-2-6": "Violation of other parking rules in Tbilisi",
    "125-2-7": "Parking incorrect vehicle type in designated areas",
    "125-3-4": "Parking without payment",
    "125-3-5": "Other parking violations, parking on sidewalk",

    # Traffic Flow and Safety
    "125-5-1": "Pedestrian right of way violations",
    "125-5-2": "Repeated pedestrian right of way violations",
    "125-6": "General traffic safety violations",
    "125-6-1": "Organized blocking of road with vehicles",
    "125-6-2": "Violation of vehicle positioning or maneuvering rules",
    "125-6-3": "Improper mounting of identification signs",
    "125-7": "Traffic signal/sign violations",
    "125-7-1": "Crossing solid center line",
    "125-7-2": "Repeated crossing of solid center line",
    "125-7-3": "Driving in opposite direction",
    "125-8": "Parking and stopping violations",
    "125-8-1": "Unauthorized parking in disabled parking space or blocking access ramp",
    "125-8-2": "Violation of no-stopping or no-parking signs",
    "125-9": "Obstructing traffic with improper stopping",
    "125-9-1": "Creating hazardous situation through violations",
    "125-9-2": "Creating traffic jam through violations",

    # Transport Regulations
    "127-0-1": "Passenger/cargo transportation violations",
    "127-0-6": "Transportation violations causing damage",
    "127-1": "Non-driver traffic participant violations",
    "127-1-1": "Cargo transportation violations",
    "127-1-4": "Operating oversized vehicle without permit",
    "127-1-5": "Repeated oversized vehicle violations",
    "127-3": "Transportation violations causing damage",

    # Environmental and Infrastructure
    "131-1": "Littering up to 2kg",
    "131-2": "Littering from buildings",
    "131-3": "Littering from vehicles",
    "134-1": "Road infrastructure violations",

    # Tbilisi Specific Regulations
    "135-2-1": "Heavy vehicle movement restrictions in Tbilisi",
    "135-2-2": "Repeated heavy vehicle movement violations",
    "135-3-1": "Bus stop violations in Tbilisi",
    "135-3-2": "Other vehicles in bus stops",
    "135-4-1": "Taxi permit violations",
    "135-4-2": "Operating taxi without permit",

    # Pandemic Related
    "142-1-1": "Face mask violations",
    "142-1-3": "Mask violations in public transport",
    "142-1-4": "Mask violations in taxi",
    "142-1-5": "Repeated mask violations",

    # Other Violations
    "145-1-1": "Minor cannabis possession",
    "166-1": "Minor hooliganism",
    "167-1": "Illegal weapon discharge",
    "173-1": "Disobeying law enforcement",
    "181-1-1": "Carrying cold weapons in public"
}

violation_categories = {
    # ===== VEHICLE OPERATOR CATEGORIES =====
    'private_vehicles': {
        'dui': {
            'alcohol': [
                '116-1',     # DUI <0.7‰
                '116-2',     # DUI >0.7‰ or test refusal
                '116-3',     # Repeated drunk driving
                '116-7',     # Causing damage while DUI
            ],
            'enablement': [
                '115-1-1',   # Transferring vehicle to intoxicated person
                '115-1-3',   # Repeated transfer to intoxicated person
            ]
        },
        'license_violations': {
            'operation': [
                '116-4',     # Driving without license
                '116-4-1',   # Operating with suspended license
                '116-4-2',   # Operating without/suspended license
                '116-4-3',   # Repeated no license within 1 year
            ],
            'documentation': [
                '119-1',     # Driving without carrying license
                '119-6',     # Operating without special category license
                '121-0-1',   # Using invalid/canceled license
                '121-1',     # Driving without valid license
                '121-1-1',   # Using another's license/false info
            ]
        }
    },

    'commercial_vehicles': {
        'transportation': [
            '127-0-1',   # Passenger/cargo transportation violations
            '127-1-1',   # Cargo transportation violations
            '127-1-4',   # Operating oversized vehicle without permit
            '127-1-5',   # Repeated oversized vehicle violations
            '127-3',     # Transportation violations causing damage
        ],
        'heavy_vehicle': [
            '135-2-1',   # Heavy vehicle movement restrictions in Tbilisi
            '135-2-2',   # Repeated heavy vehicle movement violations
        ],
        'taxi': [
            '135-4-1',   # Taxi permit violations
            '135-4-2',   # Operating taxi without permit
            '125-0-5',   # Taxi parking violations
            '125-1-5',   # Unauthorized taxi parking
        ]
    },

    # ===== VEHICLE CONDITION CATEGORIES =====
    'vehicle_safety': {
        'technical': [
            '118-1',     # Operating technically uninspected vehicle
            '118-2-1',   # Transferring uninspected vehicle - Individual
            '118-2-2',   # Transferring uninspected vehicle - Legal entity
            '118-3-1',   # Repeated technical violation - Individual
            '118-3-2',   # Repeated technical violation - Legal entity
        ],
        'equipment': [
            '119-2',     # Operating with malfunctioning equipment
            '119-5',     # Operating illegally modified vehicle
            '119-7',     # Operating vehicle with tinted windows
            '119-7-1',   # Window tint exceeding limits
            '119-7-2',   # Third violation of tinted windows
        ],
        'safety_gear': [
            '118-0-1',   # Not wearing seatbelt
            '118-0-2',   # Using mobile phone while driving
            '118-0-3',   # Not wearing helmet on motorcycle/moped
        ]
    },

    # ===== TRAFFIC BEHAVIOR CATEGORIES =====
    'traffic_violations': {
        'serious': [
            '123-2',     # Not stopping for police
            '123-3',     # Failing to comply with police stop
            '123-4',     # Creating hazardous situation
            '125-1-1',   # Speeding (over 40 km/h)
            '125-7-3',   # Driving in opposite direction
        ],
        'moderate': [
            '125-1',     # Speeding (15-40 km/h)
            '125-7',     # Traffic signal/sign violations
            '125-7-1',   # Crossing solid center line
            '125-6-2',   # Vehicle positioning/maneuvering violations
        ],
        'special_zones': [
            '125-0-2',   # Unauthorized bus lane use
            '125-0-3',   # Bicycle lane violations
            '125-1-2',   # Bus lane violations
            '125-1-3',   # Bicycle lane violations
        ]
    },

    # ===== PARKING AND STATIONARY VIOLATIONS =====
    'parking': {
        'payment': [
            '125-2-1',   # Parking without payment in Tbilisi
            '125-2-2',   # Electric vehicle parking without charging
            '125-3-4',   # Parking without payment
        ],
        'accessibility': [
            '125-2-5',   # Unauthorized disabled parking/blocking ramp
            '125-8-1',   # Disabled parking violations
        ],
        'obstruction': [
            '125-8',     # Parking and stopping violations
            '125-8-2',   # No-stopping or no-parking violations
            '125-9',     # Obstructing traffic
            '125-1-6',   # Abandoning vehicle on road
        ],
        'specialized': [
            '125-2-3',   # Using parked vehicle for commercial activities
            '125-2-7',   # Parking incorrect vehicle type
            '125-3-5',   # Other parking violations, parking on sidewalk
        ]
    },

    # ===== INCIDENT RELATED CATEGORIES =====
    'accidents': {
        'scene_violations': [
            '123-1',     # Leaving accident scene
            '123-2-1',   # Leaving scene without license
        ],
        'damages': [
            '125',       # Minor damage to vehicle/cargo/road/person
            '123-5-1',   # Minor damage/injury through violation
            '125-0-1',   # Causing minor damage through pedestrian violations
        ]
    },

    # ===== DOCUMENTATION CATEGORIES =====
    'vehicle_documentation': {
        'registration': [
            '122-1',     # Operating without license plates
            '122-2',     # Operating unregistered vehicle
            '122-3',     # Operating with concealed plates
            '122-4',     # Operating with fake/modified plates
            '125-0-4',   # Parking without visible registration plates
        ],
        'permits': [
            '119-6',     # Operating without special category license
            '135-4-1',   # Taxi permit violations
            '135-4-2',   # Operating taxi without permit
        ]
    },

    # ===== EMERGENCY AND SPECIAL VEHICLE CATEGORIES =====
    'emergency_related': {
        'equipment': [
            '120',       # Illegal installation/use of emergency lights/sirens
            '120-1',     # Illegal use of emergency vehicle indicators
        ],
        'violations': [
            '120-3-1',   # Obstructing emergency vehicles
        ]
    },

    # ===== NON-TRAFFIC VIOLATIONS =====
    'environmental': [
        '131-1',     # Littering up to 2kg
        '131-2',     # Littering from buildings
        '131-3',     # Littering from vehicles
        '134-1',     # Road infrastructure violations
    ],
    
    'public_order': [
        '166-1',     # Minor hooliganism
        '167-1',     # Illegal weapon discharge
        '173-1',     # Disobeying law enforcement
        '181-1-1',   # Carrying cold weapons in public
    ],

    # ===== SEVERITY CLASSIFICATIONS =====
    'violation_severity': {
        'critical': [
            '116-2',     # DUI >0.7‰
            '116-3',     # Repeated drunk driving
            '116-5',     # Repeated drunk driving without license
            '116-6',     # Repeated drunk driving with suspended license
            '123-1',     # Leaving accident scene
            '123-4',     # Creating hazardous situation
        ],
        'high': [
            '116-1',     # DUI <0.7‰
            '125-1-1',   # Excessive speeding
            '123-2',     # Not stopping for police
            '122-4',     # Fake/modified plates
        ],
        'medium': [
            '125-1',     # Moderate speeding
            '125-7-1',   # Crossing solid line
            '118-1',     # Technically uninspected vehicle
        ],
        'low': [
            '118-0-2',   # Mobile phone use
            '119-1',     # Not carrying license
            '125-2-1',   # Parking without payment
        ]
    }
}

# Additional analysis helpers
repeated_violations = [
    '115-1-3',   # Repeated transfer to intoxicated
    '116-3',     # Repeated drunk driving
    '116-4-3',   # Repeated no license
    '116-5',     # Repeated drunk driving without license
    '116-6',     # Repeated drunk driving with suspended
    '118-3-1',   # Repeated technical violation - Individual
    '118-3-2',   # Repeated technical violation - Legal
    '119-7-2',   # Third tinted windows violation
    '125-5-2',   # Repeated pedestrian violations
    '125-7-2',   # Repeated crossing solid line
    '127-1-5',   # Repeated oversized vehicle
    '135-2-2',   # Repeated heavy vehicle movement
]

location_specific = {
    'tbilisi_only': [
        '125-2-1',   # Parking without payment in Tbilisi
        '125-2-3',   # Commercial activities in parked vehicle
        '125-2-6',   # Other Tbilisi parking rules
        '135-2-1',   # Heavy vehicle movement restrictions
        '135-3-1',   # Bus stop violations
        '135-3-2',   # Other vehicles in bus stops
    ]
}